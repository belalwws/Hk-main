# ๐พ ุญู ูุดููุฉ ูุณุญ ุงูุจูุงูุงุช ุนูุฏ Deploy

## ๐จ ุงููุดุงูู ุงููุญูููุฉ

### 1. ุฎุทุฃ Column "hackathonid" does not exist
- **ุงูุณุจุจ**: ุงุณุชุฎุฏุงู SQL ุฎุงู ูุน ุฃุณูุงุก ุฃุนูุฏุฉ ุฎุงุทุฆุฉ
- **ุงูุญู**: ุงุณุชุจุฏุงู SQL ุฎุงู ุจู Prisma models

### 2. ูุณุญ ุงูุจูุงูุงุช ุนูุฏ ูู Deploy
- **ุงูุณุจุจ**: ุงุณุชุฎุฏุงู `--force-reset` ูู ุฃูุงูุฑ Prisma
- **ุงูุญู**: ุฅูุดุงุก script ุฐูู ูุญุงูุธ ุนูู ุงูุจูุงูุงุช

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅุตูุงุญ API Form
```typescript
// ูุจู ุงูุฅุตูุงุญ (SQL ุฎุงู)
const design = await prisma.$queryRaw`
  SELECT * FROM hackathon_form_designs 
  WHERE hackathonId = ${hackathonId}
`

// ุจุนุฏ ุงูุฅุตูุงุญ (Prisma model)
const design = await prisma.hackathonFormDesign.findFirst({
  where: { hackathonId: hackathonId }
})
```

### 2. ุฅูุดุงุก Production Deploy Script
- โ ูุญุต ูุฌูุฏ ุงูุจูุงูุงุช ูุจู ุงูุชุญุฏูุซ
- โ ุงุณุชุฎุฏุงู migrations ุจุฏูุงู ูู force reset
- โ ุงูุญูุงุธ ุนูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- โ ุฅูุดุงุก admin user ุชููุงุฆูุงู

### 3. ุฅุถุงูุฉ Migrations
- โ ุฅูุดุงุก migration ููุฌุฏูู ุงูุฌุฏูุฏ
- โ ุงุณุชุฎุฏุงู `IF NOT EXISTS` ูุชุฌูุจ ุงูุฃุฎุทุงุก
- โ ุฅุถุงูุฉ Foreign Keys ุจุฃูุงู

## ๐ง ุงูุฃูุงูุฑ ุงูุฌุฏูุฏุฉ

```bash
# ูููุดุฑ ุงูุขูู ูู ุงูุฅูุชุงุฌ
npm run production-deploy

# ูุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุท
npm run update-production-db

# ููุชุญุถูุฑ ูููุดุฑ
npm run prepare-render
```

## ๐ ููููุฉ ุงููุดุฑ ุงูุขูู

### 1. ูู ุงูุชุทููุฑ ุงููุญูู:
```bash
# ุชูุธูู ุงููุดุฑูุน
npm run cleanup

# ุฅุนุฏุงุฏ ุงููุดุฑ
npm run prepare-render

# ุงุฎุชุจุงุฑ ุงูุจูุงุก
npm run build
```

### 2. ุฑูุน ุนูู GitHub:
```bash
git add .
git commit -m "Fixed database persistence and API errors"
git push origin main
```

### 3. ูู Render:
- โ **Build Command**: `npm ci && npm run build`
- โ **Start Command**: `npm start`
- โ **Auto Deploy**: ุณูุณุชุฎุฏู `postinstall` script ุงูุฌุฏูุฏ

## ๐ก๏ธ ุงูุญูุงูุฉ ูู ููุฏุงู ุงูุจูุงูุงุช

### Script ุงูุฌุฏูุฏ ูููู ุจู:
1. **ูุญุต ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ** ูุจู ุฃู ุชุบููุฑ
2. **ุงุณุชุฎุฏุงู migrations** ุจุฏูุงู ูู force reset
3. **ุงูุญูุงุธ ุนูู ุงูุจูุงูุงุช** ุนูุฏ ุงูุชุญุฏูุซ
4. **ุฅูุดุงุก admin user** ุฅุฐุง ูู ููู ููุฌูุฏ
5. **ุชุทุจูู ุงูุชุญุฏูุซุงุช ุจุฃูุงู** ุฏูู ููุฏุงู ุงูุจูุงูุงุช

### ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:
- ๐ **ุญูุงูุฉ ุงูุจูุงูุงุช**: ูุง ูุชู ูุณุญ ุงูุจูุงูุงุช ุฃุจุฏุงู
- ๐ **ุชุญุฏูุซ ุฐูู**: ูุทุจู ุงูุชุบููุฑุงุช ุงููุทููุจุฉ ููุท
- ๐ค **admin user ุชููุงุฆู**: ููุดุฆ admin ุฅุฐุง ูู ููู ููุฌูุฏ
- ๐ **ุชูุงุฑูุฑ ููุตูุฉ**: ูุนุฑุถ ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

- โ **ูุง ููุฌุฏ ุฎุทุฃ hackathonid** - ุชู ุฅุตูุงุญู
- โ **ุงูุจูุงูุงุช ูุญููุธุฉ** - ูุง ุชููุณุญ ุนูุฏ Deploy
- โ **Admin user ููุฌูุฏ** - ููุดุฃ ุชููุงุฆูุงู
- โ **API ูุนูู ุจุดูู ุตุญูุญ** - ุจุฏูู ุฃุฎุทุงุก 500
- โ **ุงููุดุฑ ุขูู** - ูุญุงูุธ ุนูู ุฌููุน ุงูุจูุงูุงุช

## ๐ ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญ

1. **ุงุฐูุจ ุฅูู**: `/hackathons/[id]/register-form`
2. **ุชุฃูุฏ ูู**: ุนุฏู ุธููุฑ ุฎุทุฃ hackathonid
3. **ุฌุฑุจ**: ุฅูุดุงุก ุจูุงูุงุช ุฌุฏูุฏุฉ
4. **ุงุนูู Deploy** ุฌุฏูุฏ
5. **ุชุญูู ูู**: ุจูุงุก ุงูุจูุงูุงุช ููุง ูู

---

**๐ ุงููุดุงูู ูุญูููุฉ! ุงูุจูุงูุงุช ุงูุขู ูุญููุธุฉ ูุงูู API ูุนูู ุจุดูู ูุซุงูู!**
